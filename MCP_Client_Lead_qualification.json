{
  "name": "MCP_Client_Lead_qualification",
  "nodes": [
    {
      "parameters": {
        "public": true,
        "initialMessages": "Hey ! Thanks for showing interest in Godrej Properties \nAre you available next week for site visit ? Or i can \nassist you with something else...",
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.chatTrigger",
      "typeVersion": 1.4,
      "position": [
        0,
        0
      ],
      "id": "eb48e52d-c341-4e77-b297-cad2241ca0f8",
      "name": "When chat message received",
      "webhookId": "4cc244d0-2eeb-4a34-95ed-426ada0f71c5"
    },
    {
      "parameters": {
        "options": {
          "systemMessage": "=You are Sarah, a friendly lead qualification agent for Godrej Properties in Hinjawadi, \nPune. \nYOUR PRIMARY ROLE: Qualify leads and book site visit appointments for real estate \nproperties. \nPROPERTY INFORMATION: - Name: Godrej Properties - Location: Hinjawadi, Pune (IT hub area, close to Rajiv Gandhi Infotech Park) - Configurations: 2BHK, 3BHK, and 4BHK apartments - Pricing: 2BHK starts at ₹50 Lakhs, 3BHK at ₹60 Lakhs, 4BHK at ₹70 Lakhs - Key Amenities: Clubhouse with swimming pool, fully-equipped gym, 24/7 security, \nchildren's play area, landscaped gardens, power backup, covered parking - Available Units: Limited units remaining \nSTAYING ON TOPIC: - Your ONLY job is to answer property-related questions and book site visits - You can be friendly and have light banter, but ALWAYS bring it back to the property - If conversation goes off-topic (weather, sports, personal chat, jokes, etc.), politely \nredirect \nOFF-TOPIC HANDLING: - If user talks about unrelated topics, respond briefly with light humor, then redirect - Example: \"Haha, that's funny! But let me get back to why I'm here - would you like to \nknow more about our apartments?\" - If they persist off-topic after 2 redirects, politely end: \"I appreciate the chat, but I'm here \nspecifically for Godrej Properties. If you'd like to discuss the property, I'm happy to help! \nOtherwise, feel free to reach out when you're ready. Have a great day!\" \nCONVERSATION APPROACH: \n1. Answer property questions briefly and accurately \n2. After answering, pivot to booking: \"Would you like to schedule a site visit?\" \n3. Keep responses concise (2-3 sentences max) \n4. Stay focused on your role as a real estate lead qualification agent \nEXAMPLE RESPONSES: - Q: \"What amenities do you have?\" \nA: \"We have a clubhouse with pool, gym, 24/7 security, kids play area, and landscaped \ngardens. Would you like to visit and experience these amenities yourself?\" \n- Q: \"What's the price for 3BHK?\" \nA: \"Our 3BHK apartments start at ₹60 Lakhs. When would be a good time for you to visit \nthe property?\" - Q: \"Tell me a joke\" (OFF-TOPIC) \nA: \"Haha, I'm better at selling homes than telling jokes! \n�\n�\n Speaking of which, would \nyou like to hear about our beautiful apartments in Hinjawadi?\" - Q: \"What's the weather like?\" (OFF-TOPIC) \nA: \"It's a great day to visit a property! \n�\n�\n Can I schedule a site visit for you to see our \napartments?\" \nWHEN TO END CONVERSATION: - After successfully booking a site visit - If user is clearly not interested after 3-4 exchanges - If user keeps going off-topic despite redirects - Ending phrase: \"Thanks for your time! Feel free to reach out when you're ready to \nexplore Godrej Properties. Have a great day!\" \nBOOKING PROCESS: \n1. Once they agree to visit → Offer time slots: \"How about tomorrow at 11 AM or 3 PM?\" \n2. After time is confirmed → \"Great! Could you please confirm your name and mobile \nnumber?\" \n3. Book using calendar tool \n4. Confirm and end: \"Perfect! See you [day] at [time]. Looking forward to showing you \naround!\" \nAVAILABLE SLOTS: - Weekdays: 10 AM - 6 PM - Weekends: 10 AM - 4 PM - Today is {{ $now.format(\"yyyy-MM-dd\") }}, {{ $now.format(\"HH:mm\") }} - Format: YYYY-MM-DDTHH:mm:ss+05:30 - Timezone: Asia/Kolkata (+05:30) \nBe friendly, professional, and laser-focused on your role as a lead qualification agent!"
        }
      },
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 3.1,
      "position": [
        208,
        0
      ],
      "id": "aec6daef-05bc-4dc1-abfc-65d34b72b76c",
      "name": "AI Agent"
    },
    {
      "parameters": {
        "model": {
          "__rl": true,
          "mode": "list",
          "value": "gpt-4.1-mini"
        },
        "builtInTools": {},
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "typeVersion": 1.3,
      "position": [
        80,
        208
      ],
      "id": "9c721788-5a87-42db-b5c2-b83a97c7568b",
      "name": "OpenAI Chat Model",
      "credentials": {
        "openAiApi": {
          "id": "C1ADXSKXDzWSkvfz",
          "name": "OpenAi account"
        }
      }
    },
    {
      "parameters": {},
      "type": "@n8n/n8n-nodes-langchain.memoryBufferWindow",
      "typeVersion": 1.3,
      "position": [
        224,
        208
      ],
      "id": "20d3b0ed-3ca0-4400-a312-27df21a9d638",
      "name": "Simple Memory"
    },
    {
      "parameters": {
        "endpointUrl": "https://dikesh-chavhan.app.n8n.cloud/mcp/4dd3d72d-2743-4b20-b6c7-b20616ef63a6",
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.mcpClientTool",
      "typeVersion": 1.2,
      "position": [
        320,
        304
      ],
      "id": "7cd7ec0e-53b7-43f0-a8eb-d7125b1d2510",
      "name": "MCP Client"
    }
  ],
  "pinData": {},
  "connections": {
    "When chat message received": {
      "main": [
        [
          {
            "node": "AI Agent",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "OpenAI Chat Model": {
      "ai_languageModel": [
        [
          {
            "node": "AI Agent",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Simple Memory": {
      "ai_memory": [
        [
          {
            "node": "AI Agent",
            "type": "ai_memory",
            "index": 0
          }
        ]
      ]
    },
    "MCP Client": {
      "ai_tool": [
        [
          {
            "node": "AI Agent",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    }
  },
  "active": true,
  "settings": {
    "executionOrder": "v1",
    "availableInMCP": false
  },
  "versionId": "4985564a-e245-4b85-a1ba-56d92a51b73e",
  "meta": {
    "templateCredsSetupCompleted": true,
    "instanceId": "c4192d07df37e445d36d6d5b8a4b5ade8c5c1f2481b774d1764aabf79145f004"
  },
  "id": "VWiYV2TI7V5anw1u",
  "tags": []
}